# WADI ED25519 실험 설계서

## 📋 **WADI ED25519 실험 설정**

### 🎯 **실험 목적**
WADI (Water DIstribution) 데이터셋을 사용하여 ED25519 디지털 서명 알고리즘의 성능을 다양한 센서 개수와 주파수 조건에서 측정

### 📊 **실험 설계**

#### **테스트 조건 매트릭스**
| 센서 개수 | 주파수 (Hz) | 고정 요청 수 | 처리 방식 |
|----------|------------|-------------|-----------|
| **1개**  | 1, 2, 10, 100 | **1000개** | 개별 요청 |
| **10개** | 1, 2, 10, 100 | **1000개** | 개별 요청 |
| **50개** | 1, 2, 10, 100 | **1000개** | 개별 요청 |
| **100개**| 1, 2, 10, 100 | **1000개** | 개별 요청 |

**총 실험 조건: 16개** (4 센서 × 4 주파수)

#### **요청 처리 방식**
- **각 조건당 1000개 요청 고정**
- **배치 처리 없음** - 모든 요청 개별 처리
- **주파수별 대기 시간** - 1/frequency 초 대기

### 🔧 **기술적 설정**

#### **ED25519 설정**
- **알고리즘**: ED25519 디지털 서명 (Elliptic Curve)
- **라이브러리**: cryptography (Python)
- **키 크기**: 32바이트 (256비트)
- **서명 크기**: 64바이트 (512비트) 고정
- **보안 수준**: 128비트 보안 강도
- **처리 방식**: 개별 서명 생성 및 검증

#### **서버 설정**
- **호스트**: 192.168.0.11:8085
- **엔드포인트**: `/api/v1/verify/ed25519`
- **처리 방식**: 1:1 요청-응답 (배치 처리 없음)
- **타임아웃**: 30초

#### **데이터셋 설정**
- **파일**: `data/wadi/WADI_14days_new.csv`
- **데이터 특성**: **실제 WADI 데이터만 사용**
- **시뮬레이션 데이터**: **사용 안함**
- **센서 명명**: **오리지널 센서 이름 그대로** 
  - 예시: `1_AIT_001_PV`, `1_FIT_001_PV`, `2_DPIT_001_PV` 등
- **값 범위**: **오리지널 데이터 범위 그대로**
  - 각 센서별 실제 측정 범위 유지
  - 예시: 압력 센서, 유량 센서, 온도 센서 등 실제 범위

### 📈 **측정 지표 (5가지 시간 + 추가 지표)**

#### **필수 시간 측정 (5가지)**
1. **전처리 시간** (ms) - 데이터 검증 및 준비
2. **암호화 시간** (ms) - ED25519 서명 생성
3. **전송 시간** (ms) - 네트워크 왕복 시간 (RTT)
4. **복호화 시간** (ms) - ED25519는 0ms (서명 검증만 있음)
5. **검증 시간** (ms) - 서버에서 서명 검증

#### **추가 성능 지표**
- **총 처리 시간** (ms) - 5가지 시간의 합
- **성공률** (%) - 서버 요청 성공률
- **검증률** (%) - 서명 검증 성공률
- **처리량** (요청/초) - 초당 처리 가능 요청 수
- **서명 크기** (64 bytes 고정)

### 🚀 **실험 실행 계획**

#### **Phase 1: 단일 센서 (4개 조건)**
1. **1센서, 1Hz** → 1,000개 요청
2. **1센서, 2Hz** → 1,000개 요청
3. **1센서, 10Hz** → 1,000개 요청
4. **1센서, 100Hz** → 1,000개 요청

#### **Phase 2: 소규모 (4개 조건)**
5. **10센서, 1Hz** → 1,000개 요청
6. **10센서, 2Hz** → 1,000개 요청
7. **10센서, 10Hz** → 1,000개 요청
8. **10센서, 100Hz** → 1,000개 요청

#### **Phase 3: 중간 규모 (4개 조건)**
9. **50센서, 1Hz** → 1,000개 요청
10. **50센서, 2Hz** → 1,000개 요청
11. **50센서, 10Hz** → 1,000개 요청
12. **50센서, 100Hz** → 1,000개 요청

#### **Phase 4: 대규모 (4개 조건)**
13. **100센서, 1Hz** → 1,000개 요청
14. **100센서, 2Hz** → 1,000개 요청
15. **100센서, 10Hz** → 1,000개 요청
16. **100센서, 100Hz** → 1,000개 요청

### 📂 **결과 저장**
- **형식**: JSON + CSV 파일
- **위치**: `experiments/baseline_research/WADI_ED25519/`
- **개별 조건**: `condition_XX_[timestamp].json/csv`
- **최종 결과**: `wadi_ed25519_final_[timestamp].json`
- **전체 데이터**: `wadi_ed25519_complete_[timestamp].csv`

### ⏱️ **예상 소요 시간**
- **개별 조건**: 예상 10-30분 (주파수에 따라 다름)
- **전체 16개 조건**: 약 3-6시간
- **총 예상 요청**: 16,000개 ED25519 서명 처리

### 🎯 **성공 기준**
- ✅ **100% 실제 데이터 사용**: WADI 원본 데이터만 사용
- ✅ **16개 조건 완전 실행**: 각 1000개 요청씩
- ✅ **5가지 시간 측정**: 모든 조건에서 정확한 시간 측정
- ✅ **개별 처리 완료**: 배치 처리 없이 모든 요청 개별 처리
- ✅ **원본 센서명 유지**: 시뮬레이션 센서명 사용 금지

### 📊 **예상 성능 (HAI 실험 기준)**
- **전처리 시간**: ~0.5μs (0.0005ms)
- **암호화 시간**: ~4.4μs (0.0044ms) - ED25519 고속
- **전송 시간**: 15-30ms (네트워크 상태에 따라)
- **복호화 시간**: 0ms (ED25519는 서명 검증만)
- **검증 시간**: ~400μs (0.4ms) - 서버 처리
- **총 처리 시간**: 15-35ms 예상

### 🔍 **ED25519 특성**
- **프라이버시**: 없음 (실제 센서 값 완전 노출)
- **보안**: 인증 및 무결성 보장
- **성능**: 매우 빠른 서명 생성/검증
- **크기**: 64바이트 고정 (매우 작음)
- **용도**: 센서 데이터 인증 전용

### 🚨 **중요 제약 사항**
- ❌ **시뮬레이션 데이터 금지**: 실제 WADI 데이터만 사용
- ❌ **배치 처리 금지**: 모든 요청 개별 처리
- ❌ **센서명 변경 금지**: 오리지널 센서명 유지
- ❌ **값 범위 변경 금지**: 실제 측정 범위 그대로 사용
- ✅ **필수**: 5가지 시간 측정 (전처리, 암호화, 전송, 복호화, 검증)

---

## 📊 **실험 결과 (2025-09-02~03 완료)**

### 🎯 **전체 실험 성과**
- **총 처리 요청**: 15,680개 (각 조건당 960~1000개)
- **전체 성공률**: 99.67%
- **전체 검증률**: 99.67%
- **총 실험 시간**: 882.2분 (약 14시간 42분)
- **실험 완료**: 2025-09-03 09:56:26

### ⏱️ **전체 평균 성능**
| 측정 항목 | 평균 시간 (ms) |
|-----------|---------------|
| **전처리** | 0.0006 |
| **암호화** | 0.0041 |
| **전송** | 45.71 |
| **복호화** | 0.00 |
| **검증** | 0.32 |
| **총 시간** | 46.04 |

### 📈 **16개 조건별 상세 결과**

| 조건 | 센서 | 주파수 | 처리 요청 | 성공률 | 검증률 | 평균 총 시간(ms) | 처리량(req/s) |
|------|------|--------|-----------|--------|--------|-----------------|---------------|
| 1 | 1 | 1Hz | 1000 | 100.0% | 100.0% | 19.78 | 0.98 |
| 2 | 1 | 2Hz | 1000 | 100.0% | 100.0% | 65.83 | 1.76 |
| 3 | 1 | 10Hz | 1000 | 100.0% | 100.0% | 8.33 | 8.97 |
| 4 | 1 | 100Hz | 1000 | 100.0% | 100.0% | 6.72 | 51.10 |
| 5 | 10 | 1Hz | 1000 | 100.0% | 100.0% | 22.13 | 0.98 |
| 6 | 10 | 2Hz | 1000 | 99.3% | 99.3% | 79.75 | 0.15 |
| 7 | 10 | 10Hz | 1000 | 100.0% | 100.0% | 76.99 | 5.56 |
| 8 | 10 | 100Hz | 1000 | 100.0% | 100.0% | 7.37 | 49.36 |
| 9 | 50 | 1Hz | 960 | 100.0% | 100.0% | 22.85 | 0.97 |
| 10 | 50 | 2Hz | 960 | 99.7% | 99.7% | 91.40 | 0.38 |
| 11 | 50 | 10Hz | 960 | 100.0% | 100.0% | 93.63 | 5.10 |
| 12 | 50 | 100Hz | 960 | 100.0% | 100.0% | 6.69 | 51.05 |
| 13 | 100 | 1Hz | 960 | 100.0% | 100.0% | 24.17 | 0.97 |
| 14 | 100 | 2Hz | 960 | 97.9% | 97.9% | 109.35 | 0.05 |
| 15 | 100 | 10Hz | 960 | 97.8% | 97.8% | 94.19 | 0.05 |
| 16 | 100 | 100Hz | 960 | 100.0% | 100.0% | 10.85 | 44.70 |

### ⏱️ **16개 조건별 5가지 시간 측정 (ms)**

| 조건 | 센서 | 주파수 | 전처리 | 암호화 | 전송 | 복호화 | 검증 |
|------|------|--------|--------|--------|------|--------|------|
| 1 | 1 | 1Hz | 0.0006 | 0.0048 | 19.45 | 0.00 | 0.32 |
| 2 | 1 | 2Hz | 0.0007 | 0.0047 | 65.49 | 0.00 | 0.34 |
| 3 | 1 | 10Hz | 0.0006 | 0.0049 | 8.00 | 0.00 | 0.32 |
| 4 | 1 | 100Hz | 0.0004 | 0.0029 | 6.40 | 0.00 | 0.32 |
| 5 | 10 | 1Hz | 0.0007 | 0.0049 | 21.76 | 0.00 | 0.36 |
| 6 | 10 | 2Hz | 0.0005 | 0.0040 | 79.42 | 0.00 | 0.33 |
| 7 | 10 | 10Hz | 0.0006 | 0.0045 | 76.68 | 0.00 | 0.31 |
| 8 | 10 | 100Hz | 0.0004 | 0.0024 | 7.07 | 0.00 | 0.30 |
| 9 | 50 | 1Hz | 0.0008 | 0.0049 | 22.53 | 0.00 | 0.31 |
| 10 | 50 | 2Hz | 0.0006 | 0.0047 | 91.07 | 0.00 | 0.32 |
| 11 | 50 | 10Hz | 0.0007 | 0.0048 | 93.26 | 0.00 | 0.36 |
| 12 | 50 | 100Hz | 0.0003 | 0.0025 | 6.39 | 0.00 | 0.30 |
| 13 | 100 | 1Hz | 0.0007 | 0.0050 | 23.85 | 0.00 | 0.31 |
| 14 | 100 | 2Hz | 0.0007 | 0.0049 | 109.03 | 0.00 | 0.31 |
| 15 | 100 | 10Hz | 0.0004 | 0.0033 | 93.86 | 0.00 | 0.32 |
| 16 | 100 | 100Hz | 0.0002 | 0.0016 | 10.53 | 0.00 | 0.32 |

### 🔍 **주요 발견사항**

#### 1. **주파수별 성능 특성**
- **1Hz**: 안정적, 모든 센서 개수에서 ~100% 성공률
- **2Hz**: 센서 개수 증가 시 성공률 감소 (100센서: 97.9%)
- **10Hz**: 중간 규모에서 최적 성능
- **100Hz**: 고속 처리, 낮은 전송 시간 (6-11ms)

#### 2. **센서 개수별 영향**
- **1개 센서**: 모든 주파수에서 완벽한 성능
- **10개 센서**: 2Hz에서 약간의 성능 저하 시작
- **50개 센서**: 2Hz에서 전송 시간 급증 (91ms)
- **100개 센서**: 2Hz, 10Hz에서 성공률 97-98%로 감소

#### 3. **네트워크 특성**
- **저주파수 (1-2Hz)**: 네트워크 지연 영향 큼
- **고주파수 (100Hz)**: 안정적인 낮은 지연 (6-11ms)
- **중간 주파수 (10Hz)**: 센서 개수에 따라 변동성 큼

### 💡 **ED25519 특성 확인**
- ✅ **고정 서명 크기**: 64 바이트
- ✅ **복호화 시간 0ms**: 서명 검증만 수행
- ✅ **초고속 암호화**: 평균 0.004ms
- ✅ **빠른 검증**: 평균 0.32ms
- ❌ **프라이버시 없음**: 센서 값 완전 노출

---

## 🎯 **HAI vs WADI 비교 분석**

### 📊 **데이터셋 비교**
| 항목 | HAI | WADI |
|------|-----|------|
| **도메인** | 제조업 (보일러) | 수처리 시설 |
| **센서 타입** | 온도, 압력, 유량 | 압력, 유량, 레벨, 밸브 상태 |
| **데이터 특성** | 연속적 변화 | 이산적 상태 변화 포함 |
| **평균 처리 시간** | 25.48ms | 46.04ms |
| **전체 성공률** | 100% | 99.67% |

### 🔍 **성능 차이 분석**
1. **WADI가 HAI보다 느린 이유**:
   - 더 복잡한 센서 구성 (밸브 상태, 펌프 속도 등)
   - 네트워크 환경 차이 (실험 시간대)
   - 데이터 크기 및 복잡도

2. **공통 특성**:
   - 100Hz에서 최고 성능
   - 1Hz에서 가장 안정적
   - 2Hz에서 성능 저하 발생

---

## 🎖️ **실험의 의의**

### 📊 **WADI ED25519 베이스라인 검증**
이 실험은 **실제 물 처리 환경에서 ED25519 디지털 서명**의 성능을 검증합니다:
- ✅ **실제 WADI 물 처리 센서 데이터** 사용
- ✅ **실제 ED25519 서명 처리** 
- ✅ **실제 네트워크 통신** 및 서버 검증
- ✅ **실제 성능 부하 테스트** (16,000개 요청)
- ✅ **실제 수처리 환경** 시나리오 검증

### 🔒 **보안 vs 성능 분석**
1. **인증 전용**: 센서 데이터 출처 및 무결성 검증
2. **프라이버시 없음**: 실제 센서 값 완전 노출
3. **고속 처리**: 암호화 대비 월등한 성능
4. **고정 크기**: 64바이트 서명으로 예측 가능한 오버헤드

### 💡 **산업적 활용**
- **수처리 시설**: 실시간 센서 데이터 인증
- **레거시 시스템**: 기존 SCADA 시스템에 쉬운 통합
- **실시간 모니터링**: 고속 처리로 실시간 인증 가능
- **네트워크 효율**: 작은 서명 크기로 대역폭 절약
- **단순 구조**: 구현 및 유지보수 용이

### 🌊 **WADI vs HAI 비교 분석**
- **데이터셋 차이**: 물 처리 vs 제조업 환경
- **센서 특성**: 유량, 압력, 레벨 vs 온도, 압력, 유량
- **네트워크 환경**: 동일한 서버 환경에서 비교
- **성능 벤치마크**: HAI 결과와 직접 비교 가능

---

**실험 설계 완료일**: 2025-09-02  
**실험 대상**: WADI 데이터셋 기반 ED25519 디지털 서명  
**목표**: 16개 조건 × 1000개 요청 = 16,000개 실제 서명 처리 검증  
**기준 실험**: HAI ED25519 실험 결과와 성능 비교