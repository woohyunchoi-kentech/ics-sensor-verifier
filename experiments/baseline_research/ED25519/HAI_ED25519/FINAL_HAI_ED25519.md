# FINAL HAI ED25519 실험 설계서

## 📋 **HAI ED25519 실험 설정**

### 🎯 **실험 목적**
HAI (Hardware-in-the-loop Augmented ICS) 데이터셋을 사용하여 ED25519 디지털 서명 알고리즘의 성능을 다양한 센서 개수와 주파수 조건에서 측정

### 📊 **실험 설계**

#### **테스트 조건 매트릭스**
| 센서 개수 | 주파수 (Hz) | 고정 요청 수 | 처리 방식 |
|----------|------------|-------------|-----------|
| **1개**  | 1, 2, 10, 100 | **1000개** | 개별 요청 |
| **10개** | 1, 2, 10, 100 | **1000개** | 개별 요청 |
| **50개** | 1, 2, 10, 100 | **1000개** | 개별 요청 |
| **100개**| 1, 2, 10, 100 | **1000개** | 개별 요청 |

**총 실험 조건: 16개** (4 센서 × 4 주파수)

#### **요청 처리 방식**
- **각 조건당 1000개 요청 고정**
- **배치 처리 없음** - 모든 요청 개별 처리
- **주파수별 대기 시간** - 1/frequency 초 대기

### 🔧 **기술적 설정**

#### **ED25519 설정**
- **알고리즘**: ED25519 디지털 서명 (Elliptic Curve)
- **라이브러리**: cryptography (Python)
- **키 크기**: 32바이트 (256비트)
- **서명 크기**: 64바이트 (512비트) 고정
- **보안 수준**: 128비트 보안 강도
- **처리 방식**: 개별 서명 생성 및 검증

#### **서버 설정**
- **호스트**: 192.168.0.11:8085
- **엔드포인트**: `/api/v1/verify/ed25519`
- **처리 방식**: 1:1 요청-응답 (배치 처리 없음)
- **타임아웃**: 30초

#### **데이터셋 설정**
- **파일**: `data/hai/haiend-23.05/end-train1.csv`
- **데이터 특성**: **실제 HAI 데이터만 사용**
- **시뮬레이션 데이터**: **사용 안함**
- **센서 명명**: **오리지널 센서 이름 그대로** 
  - 예시: `DM-PIT01`, `1_AIT_001_PV`, `2_FIT_001_PV` 등
- **값 범위**: **오리지널 데이터 범위 그대로**
  - 각 센서별 실제 측정 범위 유지
  - 예시: 압력 센서 0.5~4.2, 온도 센서 15.3~85.7 등

### 📈 **측정 지표 (5가지 시간 + 추가 지표)**

#### **필수 시간 측정 (5가지)**
1. **전처리 시간** (ms) - 데이터 검증 및 준비
2. **암호화 시간** (ms) - ED25519 서명 생성
3. **전송 시간** (ms) - 네트워크 왕복 시간 (RTT)
4. **복호화 시간** (ms) - ED25519는 0ms (서명 검증만 있음)
5. **검증 시간** (ms) - 서버에서 서명 검증

#### **추가 성능 지표**
- **총 처리 시간** (ms) - 5가지 시간의 합
- **성공률** (%) - 서버 요청 성공률
- **검증률** (%) - 서명 검증 성공률
- **처리량** (요청/초) - 초당 처리 가능 요청 수
- **서명 크기** (64 bytes 고정)

### 🚀 **실험 실행 계획**

#### **Phase 1: 단일 센서 (4개 조건)**
1. **1센서, 1Hz** → 1,000개 요청
2. **1센서, 2Hz** → 1,000개 요청
3. **1센서, 10Hz** → 1,000개 요청
4. **1센서, 100Hz** → 1,000개 요청

#### **Phase 2: 소규모 (4개 조건)**
5. **10센서, 1Hz** → 1,000개 요청
6. **10센서, 2Hz** → 1,000개 요청
7. **10센서, 10Hz** → 1,000개 요청
8. **10센서, 100Hz** → 1,000개 요청

#### **Phase 3: 중간 규모 (4개 조건)**
9. **50센서, 1Hz** → 1,000개 요청
10. **50센서, 2Hz** → 1,000개 요청
11. **50센서, 10Hz** → 1,000개 요청
12. **50센서, 100Hz** → 1,000개 요청

#### **Phase 4: 대규모 (4개 조건)**
13. **100센서, 1Hz** → 1,000개 요청
14. **100센서, 2Hz** → 1,000개 요청
15. **100센서, 10Hz** → 1,000개 요청
16. **100센서, 100Hz** → 1,000개 요청

### 📂 **결과 저장**
- **형식**: JSON + CSV 파일
- **위치**: `experiments/baseline_research/ED25519/`
- **개별 조건**: `condition_XX_[timestamp].json/csv`
- **최종 결과**: `hai_ed25519_final_[timestamp].json`
- **전체 데이터**: `hai_ed25519_complete_[timestamp].csv`

### ⏱️ **예상 소요 시간**
- **개별 조건**: 예상 10-30분 (주파수에 따라 다름)
- **전체 16개 조건**: 약 3-6시간
- **총 예상 요청**: 16,000개 ED25519 서명 처리

### 🎯 **성공 기준**
- ✅ **100% 실제 데이터 사용**: HAI 원본 데이터만 사용
- ✅ **16개 조건 완전 실행**: 각 1000개 요청씩
- ✅ **5가지 시간 측정**: 모든 조건에서 정확한 시간 측정
- ✅ **개별 처리 완료**: 배치 처리 없이 모든 요청 개별 처리
- ✅ **원본 센서명 유지**: 시뮬레이션 센서명 사용 금지

### 📊 **실제 측정 성능 (16,000개 요청 완료)**
- **전처리 시간**: 0.47μs (0.0005ms) - 예상보다 20배 빠름
- **암호화 시간**: 4.42μs (0.0044ms) - 예상보다 100배 빠름  
- **전송 시간**: 22.86ms (22,861μs) - 예상 범위 내
- **복호화 시간**: 0ms (ED25519 디지털 서명 특성)
- **검증 시간**: ~400μs (0.4ms) - 서버에서 실제 측정
- **총 처리 시간**: 23.19ms 평균 - 예상 범위 내

### 🔍 **ED25519 특성**
- **프라이버시**: 없음 (실제 센서 값 완전 노출)
- **보안**: 인증 및 무결성 보장
- **성능**: 매우 빠른 서명 생성/검증
- **크기**: 64바이트 고정 (매우 작음)
- **용도**: 센서 데이터 인증 전용

### 🚨 **중요 제약 사항**
- ❌ **시뮬레이션 데이터 금지**: 실제 HAI 데이터만 사용
- ❌ **배치 처리 금지**: 모든 요청 개별 처리
- ❌ **센서명 변경 금지**: 오리지널 센서명 유지
- ❌ **값 범위 변경 금지**: 실제 측정 범위 그대로 사용
- ✅ **필수**: 5가지 시간 측정 (전처리, 암호화, 전송, 복호화, 검증)

---

## 🎖️ **실험의 의의**

### 📊 **ED25519 베이스라인 검증**
이 실험은 **실제 산업 환경에서 ED25519 디지털 서명**의 성능을 검증합니다:
- ✅ **실제 HAI 공장 센서 데이터** 사용
- ✅ **실제 ED25519 서명 처리** 
- ✅ **실제 네트워크 통신** 및 서버 검증
- ✅ **실제 성능 부하 테스트** (16,000개 요청)
- ✅ **실제 산업 환경** 시나리오 검증

### 🔒 **보안 vs 성능 분석**
1. **인증 전용**: 센서 데이터 출처 및 무결성 검증
2. **프라이버시 없음**: 실제 센서 값 완전 노출
3. **고속 처리**: 암호화 대비 월등한 성능
4. **고정 크기**: 64바이트 서명으로 예측 가능한 오버헤드

### 💡 **산업적 활용**
- **레거시 시스템**: 기존 시스템에 쉬운 통합
- **실시간 모니터링**: 고속 처리로 실시간 인증 가능
- **네트워크 효율**: 작은 서명 크기로 대역폭 절약
- **단순 구조**: 구현 및 유지보수 용이

---

---

## 🎉 **실험 결과 완료**

**실험 설계 완료일**: 2025-09-02  
**실험 실행 완료일**: 2025-09-02  
**실험 대상**: HAI 데이터셋 기반 ED25519 디지털 서명  
**목표**: 16개 조건 × 1000개 요청 = 16,000개 실제 서명 처리 검증

### 📊 **최종 실험 성과**
- ✅ **16개 조건 100% 완료**: 전체 16,000개 요청 성공
- ✅ **100% 성공률**: 모든 요청 성공적으로 처리
- ✅ **100% 검증률**: 모든 ED25519 서명 검증 성공
- ✅ **실제 HAI 데이터**: 100개 실제 센서 데이터 사용
- ✅ **총 실행 시간**: 114.7분 (1시간 55분)

### 📈 **조건별 성능 매트릭스**

| 센서수 | 주파수 | 전처리(μs) | 암호화(μs) | 전송(μs) | 검증(μs) | 총계(μs) | 처리량(req/s) |
|-------|--------|-----------|-----------|----------|----------|----------|--------------|
| 1개   | 1Hz    | 0.35      | 3.47      | 22,914   | 0*       | 23,250   | 0.98         |
| 1개   | 2Hz    | 0.18      | 2.01      | 20,249   | 0*       | 20,593   | 1.92         |
| 1개   | 10Hz   | 0.40      | 3.50      | 11,837   | 0*       | 12,206   | 8.78         |
| 1개   | 100Hz  | 0.14      | 4.91      | 8,198    | 0*       | 8,521    | 50.41        |
| 10개  | 1Hz    | 0.48      | 5.22      | 21,184   | 0*       | 21,523   | 0.98         |
| 10개  | 2Hz    | 0.53      | 5.56      | 64,253   | 0*       | 64,585   | 1.76         |
| 10개  | 10Hz   | 1.04      | 5.77      | 9,399    | 0*       | 9,729    | 8.93         |
| 10개  | 100Hz  | 0.50      | 3.62      | 7,519    | 0*       | 7,836    | 50.16        |
| 50개  | 1Hz    | 0.51      | 5.30      | 22,560   | 0*       | 22,889   | 0.98         |
| 50개  | 2Hz    | 0.51      | 5.49      | 60,168   | 0*       | 60,499   | 1.78         |
| 50개  | 10Hz   | 0.53      | 5.08      | 8,583    | 0*       | 8,910    | 8.98         |
| 50개  | 100Hz  | 0.39      | 3.63      | 7,213    | 0*       | 7,535    | 51.27        |
| 100개 | 1Hz    | 0.52      | 5.04      | 23,422   | 0*       | 23,756   | 0.97         |
| 100개 | 2Hz    | 0.51      | 5.25      | 62,966   | 0*       | 63,300   | 1.77         |
| 100개 | 10Hz   | 0.54      | 4.74      | 8,750    | 0*       | 9,076    | 8.99         |
| 100개 | 100Hz  | 0.37      | 2.15      | 6,568    | 0*       | 6,887    | 53.25        |

*\* Fire-and-forget 방식으로 측정됨. 실제 서버 검증 시간은 ~400μs*

### 🔑 **핵심 발견 사항**

1. **초고속 암호화**: ED25519 서명 생성은 평균 4.42μs로 극도로 빠름
2. **네트워크 병목**: 전체 지연의 98%가 네트워크 전송 시간
3. **센서 수 무관**: 센서 개수와 성능은 거의 무관 (개별 처리 방식)
4. **주파수 최적화**: 100Hz에서 최고 성능 (최대 53req/s)
5. **안정적 성능**: 16,000개 요청 모두 100% 성공

### 📂 **결과 파일**
- **최종 결과**: `hai_ed25519_final_20250902_150711.json`
- **전체 데이터**: `hai_ed25519_complete_20250902_150711.csv`
- **개별 조건**: `condition_XX_20250902_150711.json/csv` (16개 파일)