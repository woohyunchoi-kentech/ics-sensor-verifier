# HAI λ°μ΄ν„°μ…‹ κΈ°λ° CKKS λ™ν•μ•”νΈν™” GPU κ°€μ† μ„±λ¥ μ‹¤ν— κµ¬ν„ μ”μ²­

## π“‹ μ‹¤ν— κµ¬ν„ μ”μ²­μ‚¬ν•­

HAI λ°μ΄ν„°μ…‹μ„ μ‚¬μ©ν• CKKS λ™ν•μ•”νΈν™” μ„±λ¥ μ‹¤ν— μ½”λ“λ¥Ό μ™„μ „ν κµ¬ν„ν•΄μ£Όμ„Έμ”.

### π― μ‹¤ν— λ©ν‘
μ‹¤μ  ICS ν™κ²½μ—μ„ μμ§‘λ HAI λ°μ΄ν„°λ¥Ό μ‚¬μ©ν•μ—¬ GPU κ°€μ† CKKS λ™ν•μ•”νΈν™”μ λ€κ·λ¨ μ„Όμ„ λ°μ΄ν„° μ²λ¦¬ μ„±λ¥μ„ μΈ΅μ •ν•κ³  λ¶„μ„ν•©λ‹λ‹¤.

### π”§ κΈ°μ΅΄ ν™κ²½ μ •λ³΄
```yaml
ν”„λ΅μ νΈ κ²½λ΅: /Users/woohyunchoi/Downloads/archive/experiment_project/ics-sensor-privacy/
κΈ°μ΅΄ CKKS κµ¬ν„: crypto/ckks_baseline.py (TenSEAL κΈ°λ°)
μ„λ²„ μ •λ³΄: 192.168.0.11:8085 (file_based_master μ»¨ν…μ¤νΈ, GPU μ§€μ›)
API μ—”λ“ν¬μΈνΈ: /api/v1/ckks/verify
HAI λ°μ΄ν„°: data/hai/haiend-23.05/end-train1.csv (200+ μ„Όμ„)
```

### π“ μ‹¤ν— λ§¤νΈλ¦­μ¤
| μ„Όμ„ μ | μ•μ „ λΉλ„ | λ„μ „μ  λΉλ„ | μ΄ req/sec | ν…μ¤νΈ μ‹κ°„ |
|---------|-----------|-------------|-------------|-------------|
| 1κ° | 1Hz, 5Hz | 10Hz, 20Hz | 1~20 | κ° 10λ¶„ |
| 10κ° | 1Hz, 5Hz | 10Hz | 10~100 | κ° 10λ¶„ |
| 50κ° | 1Hz, 2Hz | 3Hz, 5Hz | 50~250 | κ° 15λ¶„ |
| 100κ° | 1Hz | 2Hz | 100~200 | κ° 20λ¶„ |

### π› οΈ κµ¬ν„ μ”κµ¬μ‚¬ν•­

#### 1. λ©”μΈ μ‹¤ν— μ¤ν¬λ¦½νΈ
νμΌλ…: `hai_ckks_gpu_experiment.py`
```python
# ν•„μ”ν• κΈ°λ¥λ“¤:
- HAI CSV λ°μ΄ν„° λ΅λ”© λ° μ„Όμ„ μ„ νƒ
- λ‹¤μ¤‘ μ„Όμ„ λ™μ‹ μ•”νΈν™”/μ „μ†΅
- μ‹¤μ‹κ°„ μ„±λ¥ λ¨λ‹ν„°λ§
- GPU/CPU λ¦¬μ†μ¤ μ‚¬μ©λ¥  μ¶”μ 
- μλ™ μ‹¤ν— λ§¤νΈλ¦­μ¤ μ‹¤ν–‰
- μ•μ „ μ¥μΉ (λ¶€ν• μ΄κ³Ό μ‹ μλ™ μ¤‘λ‹¨)
```

#### 2. HAI λ°μ΄ν„° λ΅λ”
νμΌλ…: `hai_data_streamer.py`
```python
class HAIDataStreamer:
    def __init__(self, csv_path, sensor_list, frequency_hz):
        # HAI CSVμ—μ„ μ§€μ •λ μ„Όμ„λ“¤μ μ‹¤μ‹κ°„ λ°μ΄ν„° μ¤νΈλ¦¬λ°
        
    def get_sensor_batch(self, batch_size):
        # μ—¬λ¬ μ„Όμ„μ λ‹¤μ λ°μ΄ν„° ν¬μΈνΈλ“¤ λ°ν™
        
    def stream_realtime(self):
        # μ‹¤μ  μ‹κ°„ κ°„κ²©μΌλ΅ λ°μ΄ν„° yield
```

#### 3. μ„±λ¥ λ¨λ‹ν„°λ§ μ‹μ¤ν…
νμΌλ…: `performance_monitor.py`
```python
class PerformanceMonitor:
    - μ‹¤μ‹κ°„ λ©”νΈλ¦­ μμ§‘ (μ•”νΈν™”/λ³µνΈν™” μ‹κ°„, μ •ν™•λ„)
    - GPU/CPU μ‚¬μ©λ¥  λ¨λ‹ν„°λ§ 
    - λ„¤νΈμ›ν¬ RTT μΈ΅μ •
    - μ‹¤μ‹κ°„ μ°¨νΈ μƒμ„± (matplotlib)
    - CSV λ°μ΄ν„° μ €μ¥
```

#### 4. λ™μ‹ μ”μ²­ κ΄€λ¦¬μ
νμΌλ…: `concurrent_manager.py`
```python
class ConcurrentCKKSManager:
    - λ‹¤μ¤‘ μ„Όμ„ λ™μ‹ μ•”νΈν™” μ²λ¦¬
    - HTTP μ—°κ²° ν’€λ§
    - λΉ„λ™κΈ° μ”μ²­ κ΄€λ¦¬ (asyncio)
    - μ—λ¬ ν•Έλ“¤λ§ λ° μ¬μ‹λ„
```

#### 5. μ•μ „ μ μ–΄ μ‹μ¤ν…
νμΌλ…: `safety_controller.py`
```python
class SafetyController:
    - μ‹¤μ‹κ°„ μ‹μ¤ν… μƒνƒ λ¨λ‹ν„°λ§
    - CPU > 90%, GPU λ©”λ¨λ¦¬ > 95% μ‹ κ²½κ³ 
    - μ‘λ‹µμ‹κ°„ > 2μ΄, μ—λ¬μ¨ > 10% μ‹ μ‹¤ν— μ¤‘λ‹¨
    - μ μ§„μ  λ¶€ν• μ¦κ°€ μ μ–΄
```

#### 6. κ²°κ³Ό μ‹κ°ν™” λ° λ¶„μ„
νμΌλ…: `visualizer.py`
```python
class ExperimentVisualizer:
    - μ‹¤μ‹κ°„ μ„±λ¥ κ·Έλν”„ (μ•”νΈν™” μ‹κ°„, CPU/GPU μ‚¬μ©λ¥ )
    - μ„Όμ„ μλ³„ ν™•μ¥μ„± λ¶„μ„ μ°¨νΈ
    - μ‘λ‹µμ‹κ°„ λ¶„ν¬ νμ¤ν† κ·Έλ¨
    - GPU vs CPU μ„±λ¥ λΉ„κµ μ°¨νΈ
    - μµμΆ… μΆ…ν•© λ¶„μ„ λ¦¬ν¬νΈ μƒμ„±
```

### π“ μΈ΅μ •ν•΄μ•Ό ν•  μ§€ν‘

#### ν•µμ‹¬ μ„±λ¥ μ§€ν‘
1. **μ•”νΈν™” μ„±λ¥**: μ„Όμ„λ³„ CKKS μ•”νΈν™” μ‹κ°„ (ms)
2. **μ„λ²„ μ„±λ¥**: λ³µνΈν™” μ‹κ°„ λ° HTTP μ‘λ‹µμ‹κ°„ (ms)
3. **λ„¤νΈμ›ν¬ μ„±λ¥**: RTT, μ²λ¦¬λ‰ (req/sec)
4. **μ •ν™•λ„**: λ³µνΈν™” μ¤μ°¨μ¨ (%)
5. **μ‹μ¤ν… λ¦¬μ†μ¤**: CPU/GPU/λ©”λ¨λ¦¬ μ‚¬μ©λ¥  (%)

#### GPU νΉν™” μ§€ν‘
1. **GPU κ°€μ† ν¨κ³Ό**: CPU vs GPU μ²λ¦¬μ‹κ°„ λΉ„κµ
2. **GPU λ©”λ¨λ¦¬ ν¨μ¨μ„±**: λ©”λ¨λ¦¬ μ‚¬μ©λ‰ vs μ²λ¦¬λ‰
3. **λ³‘λ ¬ μ²λ¦¬ ν¨μ¨**: λ™μ‹ μ²λ¦¬ μ„Όμ„ μλ³„ μ„±λ¥
4. **λ°°μΉ μµμ ν™”**: λ°°μΉ ν¬κΈ°λ³„ μ„±λ¥ λ³€ν™”

### π“ μ‹¤ν— μ‹¤ν–‰ νλ¦„
```python
# λ©”μΈ μ‹¤ν–‰ λ΅μ§
def main():
    # 1. μ‹μ¤ν… μ΄κΈ°ν™” λ° μƒνƒ ν™•μΈ
    initialize_system()
    
    # 2. κ° μ„Όμ„ μλ³„λ΅ μ‹¤ν—
    for sensor_count in [1, 10, 50, 100]:
        print(f"=== {sensor_count}κ° μ„Όμ„ μ‹¤ν— μ‹μ‘ ===")
        
        # 3. μ•μ „ λΉλ„λ¶€ν„° ν…μ¤νΈ
        for freq in safe_frequencies[sensor_count]:
            if run_experiment(sensor_count, freq):
                print(f"β… {sensor_count}μ„Όμ„ {freq}Hz μ„±κ³µ")
            else:
                print(f"β {sensor_count}μ„Όμ„ {freq}Hz μ‹¤ν¨")
                break
        
        # 4. μ•μ „ λΉλ„ μ„±κ³µ μ‹μ—λ§ λ„μ „μ  λΉλ„ μ‹λ„
        for freq in challenging_frequencies[sensor_count]:
            if system_health_check():
                run_experiment(sensor_count, freq)
            else:
                print("μ‹μ¤ν… ν•κ³„ λ„λ‹¬, μ‹¤ν— μ¤‘λ‹¨")
                break
        
        # 5. μ„Όμ„λ³„ κ²°κ³Ό μ €μ¥ λ° μ‹κ°ν™”
        save_results(sensor_count)
        generate_charts(sensor_count)
    
    # 6. μµμΆ… μΆ…ν•© λ¶„μ„ λ¦¬ν¬νΈ
    generate_final_report()
```

### π― μ¶λ ¥ κ²°κ³Όλ¬Ό μ”κµ¬μ‚¬ν•­

#### μ‹¤μ‹κ°„ μ¶λ ¥
- μ§„ν–‰μƒν™© ν‘μ‹ (ν”„λ΅κ·Έλ μ¤ λ°”, ν„μ¬ μƒνƒ)
- μ‹¤μ‹κ°„ μ„±λ¥ κ·Έλν”„ (matplotlib μ• λ‹λ©”μ΄μ…)
- κ° μ”μ²­λ³„ μƒμ„Έ λ΅κ·Έ

#### μ €μ¥ νμΌλ“¤
```
/results/hai_ckks_gpu_experiment_20250827_HHMMSS/
β”β”€β”€ raw_data/
β”‚   β”β”€β”€ 1_sensor_results.csv
β”‚   β”β”€β”€ 10_sensor_results.csv
β”‚   β”β”€β”€ 50_sensor_results.csv
β”‚   β””β”€β”€ 100_sensor_results.csv
β”β”€β”€ charts/
β”‚   β”β”€β”€ realtime_performance_1_sensors.png
β”‚   β”β”€β”€ realtime_performance_10_sensors.png
β”‚   β”β”€β”€ realtime_performance_50_sensors.png
β”‚   β”β”€β”€ realtime_performance_100_sensors.png
β”‚   β”β”€β”€ gpu_cpu_comparison.png
β”‚   β”β”€β”€ scalability_analysis.png
β”‚   β””β”€β”€ response_time_distribution.png
β”β”€β”€ system_monitoring/
β”‚   β”β”€β”€ cpu_gpu_usage.png
β”‚   β”β”€β”€ memory_utilization.png
β”‚   β””β”€β”€ network_bandwidth.png
β”β”€β”€ experiment_summary.json
β””β”€β”€ final_analysis_report.md
```

### β οΈ μ•μ „ μ”κµ¬μ‚¬ν•­

1. **μ‹μ¤ν… λ³΄νΈ**: κ³Όλ¶€ν• λ°©μ§€λ¥Ό μ„ν• μ‹¤μ‹κ°„ λ¨λ‹ν„°λ§
2. **μ μ§„μ  μ ‘κ·Ό**: μ•μ „ λΉλ„ ν™•μΈ ν›„ λ„μ „μ  λΉλ„ μ‹λ„
3. **μλ™ μ¤‘λ‹¨**: μ„ν— μ„κ³„μΉ λ„λ‹¬ μ‹ μ¦‰μ‹ μ‹¤ν— μ¤‘λ‹¨
4. **λ³µκµ¬ κΈ°λ¥**: λ„¤νΈμ›ν¬ μ—λ¬ μ‹ μλ™ μ¬μ—°κ²° μ‹λ„
5. **λ°μ΄ν„° λ³΄μ΅΄**: μ‹¤ν— μ¤‘ μ¤‘λ‹¨λμ–΄λ„ μ¤‘κ°„ κ²°κ³Ό μ €μ¥

### π€ μ‹¤ν–‰ λ°©λ²•
```bash
# μ‹¤ν— μ‹¤ν–‰
python hai_ckks_gpu_experiment.py

# μ‹¤ν–‰ μ¤‘ μ‹¤μ‹κ°„ λ¨λ‹ν„°λ§
# - μ½μ†”μ—μ„ μ§„ν–‰μƒν™© ν™•μΈ
# - λ³„λ„ μ°½μ—μ„ μ‹¤μ‹κ°„ μ„±λ¥ κ·Έλν”„ ν‘μ‹
# - Ctrl+Cλ΅ μ•μ „ν•κ² μ‹¤ν— μ¤‘λ‹¨ κ°€λ¥
```

### π“‹ κΈ°λ€ν•λ” μµμΆ… κ²°κ³Ό

1. **μ™„μ „ μλ™ν™”**: λ¨λ“  μ‹¤ν— μ΅°ν•© μλ™ μ‹¤ν–‰
2. **μ‹¤μ‹κ°„ μ‹κ°ν™”**: κ° λ‹¨κ³„λ³„ μ„±λ¥ κ·Έλν”„ μ‹¤μ‹κ°„ μƒμ„±
3. **μΆ…ν•© λ¶„μ„**: GPU κ°€μ† ν¨κ³Ό λ° ν™•μ¥μ„± ν•κ³„ λ¶„μ„
4. **μ‹¤μ©μ  μ§€μΉ¨**: μ‹¤μ  ICS ν™κ²½ λ°°ν¬λ¥Ό μ„ν• κ¶μ¥μ‚¬ν•­
5. **κ³Όν•™μ  λ°μ΄ν„°**: λ…Όλ¬Έ/λ³΄κ³ μ„ μ‘μ„±μ© μ •λ‰μ  κ²°κ³Ό

---

**μ΄ μ‹¤ν—μ„ ν†µν•΄ HAI μ‹¤μ  λ°μ΄ν„°λ¥Ό μ‚¬μ©ν• CKKS GPU κ°€μ† μ„±λ¥μ μ‹¤μ©μ  ν•κ³„λ¥Ό λ…ν™•ν μ…μ¦ν•κ³ , λ€κ·λ¨ ICS ν™κ²½μ—μ„μ λ™ν•μ•”νΈν™” μ μ© κ°€λ¥μ„±μ„ κ³Όν•™μ μΌλ΅ κ²€μ¦ν•  μ μμµλ‹λ‹¤.**

**κµ¬ν„ μ‹μ‘ν•΄ μ£Όμ„Έμ”!**